<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Chester Sng - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level3">AB-3</a></li><li class="nav-item"><a class="nav-link active" href="../index.html">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">AddressBook-Level4</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/se-edu/addressbook-level4"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Chester Sng - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-clinic"><a class="link" href="#project-clinic">PROJECT: CLInic</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This project portfolio serves to document my contributions to CLInic, a CS2103T (Introduction to Software Engineering) project as part of my
Computer Science curriculum in NUS.</p>
</div>
<div class="paragraph">
<p>CLInic is a desktop application made for clinics. The CLI in CLInic stands for Command Line Interface, which is the main method to use this application.
CLInic also has a Graphical User Interface (GUI) to display information in a structured and user-friendly manner. This application uses Java as the
primary programming language and uses JavaFX, HTML and CSS for the GUI.</p>
</div>
<div class="paragraph">
<p>The project scope for CLInic is to morph the given <code>addressbook-level4</code> into a clinic management application that allows users to manage patient
and medicine information and additionally manage the clinic queue.</p>
</div>
<div class="paragraph">
<p>My task in CLInic is to implement a <strong>Patient Queue Management System</strong>, as well as to integrate the changes of my team to ensure CLInic works
after every enhancement or change.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of Contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: Implementation of <strong>Patient Queue Management System (PQMS)</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: This system allows the clinic to keep track of the queue in the clinic.</p>
</li>
<li>
<p>Justification: This system improves the product significantly because it has created another use case for this application apart from just storing patient and medicine information.</p>
</li>
<li>
<p>Highlights: This system builds upon existing commands, patient information and medicine information. This system attempts to model the real life queue system in the clinic and the commands
are made to be as intuitive as possible.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Integration of <code>Patient</code> and <code>Document</code> class with PQMS through <code>DocumentAddCommand</code> and <code>DocumentDisplayCommand</code></p>
</li>
<li>
<p>Integration of <code>Patient</code> and <code>Medicine</code> class through <code>DispenseMedicineCommand</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://github.com">Functional code</a>] [<a href="https://github.com">Test code</a>] <em>{give links to collated code files}</em></p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Team Lead</p>
</li>
<li>
<p>Managed releases <code>v1.1</code> - <code>v1.3</code> (3 releases) on GitHub</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to test coverage:</p>
<div class="ulist">
<ul>
<li>
<p>Wrote tests for PQMS features to increase coverage from 67% to 75% (Pull request <a href="https://goo.gl/vQbh82">#109</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-gui-design"><a class="link" href="#contributions-to-the-gui-design">Contributions to the GUI Design</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below is the mockup of the GUI that I designed. It showcases to visualise an end-product.</em></p></td>
</tr>
</tbody>
</table>
<div class="imageblock">
<div class="content">
<img src="../images/Ui.png" alt="Ui" width="790">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="queue-management"><a class="link" href="#queue-management">Queue Management</a></h3>
<div class="sect3">
<h4 id="registering-a-patient-to-waiting-queue-code-register-code"><a class="link" href="#registering-a-patient-to-waiting-queue-code-register-code">Registering a patient to Waiting Queue: <code>register</code></a></h4>
<div class="paragraph">
<p>Registers a patient to the back of the Waiting Queue.<br>
Alias: <code>reg</code><br>
Format: <code>register INDEX</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Registers the patient at the specified <code>INDEX</code>. The index refers to the index number shown in the displayed patient list. The index <strong>must be a positive integer</strong> (i.e. 1, 2, 3, &#8230;&#8203;).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>list</code><br>
<code>register 3</code><br>
Registers the 3rd patient in the database.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/Register3Command.png" alt="Register3Command" width="750">
</div>
<div class="title">Figure 1. After executing the <code>register 3</code> command</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find david</code><br>
<code>reg 1</code><br>
Registers the 1st patient in the resulting list of the <code>find</code> command.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="listing-all-patients-in-waiting-queue-code-queue-code"><a class="link" href="#listing-all-patients-in-waiting-queue-code-queue-code">Listing all patients in Waiting Queue: <code>queue</code></a></h4>
<div class="paragraph">
<p>Lists all patients in the Waiting queue.<br>
Alias: <code>q</code><br>
Format: <code>queue</code></p>
</div>
</div>
<div class="sect3">
<h4 id="removing-a-patient-from-waiting-queue-code-remove-code"><a class="link" href="#removing-a-patient-from-waiting-queue-code-remove-code">Removing a patient from Waiting Queue: <code>remove</code></a></h4>
<div class="paragraph">
<p>Removes a patient from the Waiting Queue if he leaves before being served.<br>
Alias: <code>rem</code><br>
Format: <code>remove INDEX</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Removes the patient at the specified <code>INDEX</code>. The index refers to the index number shown in the displayed patient list. The <code>INDEX</code> <strong>must be a positive integer</strong> (i.e. 1, 2, 3, &#8230;&#8203;).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>remove 3</code><br>
Removes the 3rd patient in the queue.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/BeforeRemove3Command.png" alt="BeforeRemove3Command" width="750">
</div>
<div class="title">Figure 2. Before <code>remove 3</code> command</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AfterRemove3Command.png" alt="AfterRemove3Command" width="750">
</div>
<div class="title">Figure 3. After <code>remove 3</code> command</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rem 3</code><br>
Removes the 2nd patient in the queue.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="inserting-a-patient-to-waiting-queue-code-insert-code"><a class="link" href="#inserting-a-patient-to-waiting-queue-code-insert-code">Inserting a patient to Waiting Queue: <code>insert</code></a></h4>
<div class="paragraph">
<p>Inserts a patient into the specified position in the Waiting Queue.<br>
Alias: <code>ins</code><br>
Format: <code>insert INDEX p/POSITION</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Inserts the patient at the specified <code>INDEX</code> in the displayed patient list into the specified <code>POSITION</code> in the Waiting Queue. Both the index and position <strong>must be a positive integer</strong> (i.e. 1, 2, 3, &#8230;&#8203;).
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If the <code>POSITION</code> value supplied exceeds the queue length, then the patient will just be added to the back of the queue. If the queue length is 1 and the <code>POSITION</code> value is 5, the patient will be added
to the 2nd position.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>list</code><br>
<code>insert 4 p/2</code><br>
Inserts the 4th patient in the database into the 2nd position in the patient queue.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/BeforeInsert2Command.png" alt="BeforeInsert2Command" width="750">
</div>
<div class="title">Figure 4. Before <code>insert 4 p/2</code> command</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AfterInsert2Command.png" alt="AfterInsert2Command" width="750">
</div>
<div class="title">Figure 5. After <code>insert 4 p/2</code> command</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ins 3 p/5</code><br>
Inserts the 3rd patient into the 5th position in the patient queue.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="serve"><a class="link" href="#serve">Serving the first patient in Waiting queue: <code>serve</code></a></h4>
<div class="paragraph">
<p>Serves the first patient in the Waiting queue. The patient being served is now the Current Patient.<br>
Alias: <code>ser</code><br>
Format: <code>serve</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Upon successful call of this command, the medicine list will be displayed.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/BeforeServeCommand.png" alt="BeforeServeCommand" width="750">
</div>
<div class="title">Figure 6. Before <code>serve</code> command</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AfterServeCommand.png" alt="AfterServeCommand" width="750">
</div>
<div class="title">Figure 7. After <code>serve</code> command</div>
</div>
</div>
<div class="sect3">
<h4 id="adddocument"><a class="link" href="#adddocument">Adding document contents to Current Patient: <code>adddocument</code></a></h4>
<div class="paragraph">
<p>Adds document contents to the Current Patient.<br>
Alias: <code>ad</code><br>
Format: <code>adddocument [mc/MC_DAYS] [n/NOTES] [r/REFERRAL]</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
There must be a Current Patient. Use the <a href="#serve"><code>serve</code></a> command first.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
At least one of the optional parameters must be provided.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Existing values will be updated with the newly input values of the corresponding field.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can remove any of the patient&#8217;s document contents by typing the prefixes <code>mc/</code> <code>n/</code> <code>r/</code> without specifying any contents after the prefix.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
At least the note field must be added before executing the <a href="#finish"><code>finish</code></a> command.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The parameter for <code>mc/</code> must be a <strong>non-zero, positive integer</strong>!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>adddocument mc/3 n/Headache for the past 2 days</code><br>
Adds MC duration and notes to the Current Patient.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/BeforeAddDocumentCommand.png" alt="BeforeAddDocumentCommand" width="750">
</div>
<div class="title">Figure 8. Before <code>adddocument mc/3 n/Headache for the past 2 days</code> command</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AfterAddDocumentCommand.png" alt="AfterAddDocumentCommand" width="750">
</div>
<div class="title">Figure 9. After <code>adddocument mc/3 n/Headache for the past 2 days</code> command</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ad r/Ng Teng Fong Hospital</code><br>
Adds referral to the Current Patient.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="displaying-document-contents-for-current-patient-code-displaydocuments-code"><a class="link" href="#displaying-document-contents-for-current-patient-code-displaydocuments-code">Displaying document contents for Current Patient: <code>displaydocuments</code></a></h4>
<div class="paragraph">
<p>Displays document contents for the Current Patient.<br>
Alias: <code>dd</code>
Format: <code>displaydocuments</code></p>
</div>
</div>
<div class="sect3">
<h4 id="dispensing-medicine-to-current-patient-code-dispensemedicine-code"><a class="link" href="#dispensing-medicine-to-current-patient-code-dispensemedicine-code">Dispensing medicine to Current Patient: <code>dispensemedicine</code></a></h4>
<div class="paragraph">
<p>Dispenses the specified quantity of medicine to the Current Patient.<br>
Alias: <code>dm</code><br>
Format <code>dispensemedicine MEDICINE_INDEX amt/AMOUNT</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Dispenses medicine at the specified <code>MEDICINE_INDEX</code> to the Current Patient. The index refers to the index number shown in the displayed medicine list. The index <strong>must be a positive integer</strong> (i.e. 1, 2, 3, &#8230;&#8203;).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dispensemedicine 1 amt/10</code><br>
10 units of the 1st medicine in the displayed medicine list will be added to the Current Patient.<br></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/BeforeDispenseMedicineCommand.png" alt="BeforeDispenseMedicineCommand" width="750">
</div>
<div class="title">Figure 10. Before <code>dispensemedicine 1 amt/10</code></div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AfterDispenseMedicineCommand.png" alt="AfterDispenseMedicineCommand" width="750">
</div>
<div class="title">Figure 11. After <code>dispensemedicine 1 amt/10</code></div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dm 5 amt/2</code><br>
2 units of the 5th medicine in the displayed medicine list will be added to the Current Patient.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="finish"><a class="link" href="#finish">Finishing service of the Current Patient: <code>finish</code></a></h4>
<div class="paragraph">
<p>Transfers the Current Patient to the Served Patient Queue.<br>
Format: <code>finish</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This command cannot be called if no notes have been added to the patient. Use <a href="#adddocument"><code>adddocument</code></a> command with prefix <code>n/</code> to add <code>NOTES</code>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Upon successful call of this command, the patient list will be displayed.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="removing-patient-from-served-patient-queue-code-payment-code"><a class="link" href="#removing-patient-from-served-patient-queue-code-payment-code">Removing patient from Served Patient Queue: <code>payment</code></a></h4>
<div class="paragraph">
<p>Removes a patient from the Served Patient Queue when the patient completes payment.<br>
Alias: <code>pay</code><br>
Format: <code>payment INDEX</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Removes the patient at the specified <code>INDEX</code>. The index refers to the index number shown in the Served Patient Queue. The index <strong>must be a positive integer</strong> (i.e. 1, 2, 3, &#8230;&#8203;).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>payment 3</code><br>
Removes the 3rd patient from the Served Patient Queue.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/BeforePaymentCommand.png" alt="BeforePaymentCommand" width="750">
</div>
<div class="title">Figure 12. Before <code>payment 3</code> command</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AfterPaymentCommand.png" alt="AfterPaymentCommand" width="750">
</div>
<div class="title">Figure 13. After <code>payment 3</code> command</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pay 1</code><br>
Removes the 1st patient from the Served Patient Queue.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="patient-queue-management-system"><a class="link" href="#patient-queue-management-system">Patient Queue Management System</a></h3>
<div class="paragraph">
<p>The Patient Queue Management System (PQMS) consists of three main classes: <code>PatientQueue</code>, <code>CurrentPatient</code> and <code>ServedPatientQueue</code>. A patient that
registers to see the doctor is put into the <code>PatientQueue</code>. When it is the patient&#8217;s turn to see the doctor, he will become the <code>CurrentPatient</code>. After
he is done with seeing the doctor, he will become a <code>ServedPatient</code> and put into the  <code>ServedPatientQueue</code> to await payment and document processing.</p>
</div>
<div class="paragraph">
<p>The PQMS consists of the <code>register</code>, <code>insert</code>, <code>remove</code>, <code>serve</code>, <code>docAdd</code>, <code>docDisplay</code>, <code>dispenseMedicine</code>, <code>finish</code>, <code>payment</code> and <code>Document</code> commands.</p>
</div>
<div class="paragraph">
<p>The following code snippet shows how the <code>ServedPatient</code> is implemented:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="Java"><span class="comment">/**
 * Represents a patient that has already consulted the doctor in the address book.
 * It has all the necessary data needed to generate any object that inherits from document.
 */</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">ServedPatient</span> {

    <span class="directive">private</span> Patient patient;
    <span class="directive">private</span> <span class="predefined-type">String</span> noteContent;
    <span class="directive">private</span> <span class="predefined-type">String</span> referralContent;
    <span class="directive">private</span> <span class="predefined-type">String</span> mcContent;
    <span class="directive">private</span> <span class="predefined-type">Map</span>&lt;Medicine, QuantityToDispense&gt; medicineAllocated;

    <span class="comment">/**
     * Constructs a servedPatient object from a patient object to extract all the information
     * necessary for printing a document.
     *
     * @param patient A valid patient.
     */</span>
    <span class="directive">public</span> ServedPatient(Patient patient) {
        requireNonNull(patient);
        medicineAllocated = <span class="keyword">new</span> <span class="predefined-type">HashMap</span>&lt;&gt;();
        <span class="local-variable">this</span>.patient = patient;
        <span class="local-variable">this</span>.noteContent = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
        <span class="local-variable">this</span>.referralContent = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
        <span class="local-variable">this</span>.mcContent = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
    }

    <span class="directive">public</span> <span class="predefined-type">Name</span> getName() {
        <span class="keyword">return</span> patient.getName();
    }

    <span class="directive">public</span> IcNumber getIcNumber() {
        <span class="keyword">return</span> patient.getIcNumber();
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getNoteContent() {
        <span class="keyword">return</span> <span class="local-variable">this</span>.noteContent;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getMcContent() {
        <span class="keyword">return</span> <span class="local-variable">this</span>.mcContent;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getReferralContent() {
        <span class="keyword">return</span> <span class="local-variable">this</span>.referralContent;
    }

    <span class="directive">public</span> <span class="predefined-type">Map</span>&lt;Medicine, QuantityToDispense&gt; getMedicineAllocated() {
        <span class="keyword">return</span> medicineAllocated;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> addNoteContent(<span class="predefined-type">String</span> content) {
        <span class="keyword">return</span> noteContent = content;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> addReferralContent(<span class="predefined-type">String</span> content) {
        <span class="keyword">return</span> referralContent = content;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> addMcContent(<span class="predefined-type">String</span> content) {
        <span class="keyword">return</span> mcContent = content;
    }

    <span class="comment">/**
     * Add specified quantity of medicine to patient.
     * @param medicine to be added.
     * @param quantity of medicine to be added.
     * @return string representation of medicine added.
     */</span>
    <span class="directive">public</span> <span class="predefined-type">String</span> addMedicine(Medicine medicine, QuantityToDispense quantity) {
        medicineAllocated.put(medicine, quantity);
        <span class="keyword">return</span> medicine.toString();
    }

    <span class="comment">/**
     * Creates a note from the noteContent and dispensedMedicines and saves to the patient's medicalRecord.
     */</span>
    <span class="directive">public</span> Patient createNewPatientWithUpdatedMedicalRecord() {
        Note noteToSave = <span class="keyword">new</span> Note(<span class="local-variable">this</span>.noteContent, <span class="local-variable">this</span>.medicineAllocated);
        Patient editedPatient = <span class="keyword">new</span> Patient(<span class="local-variable">this</span>.patient, <span class="local-variable">this</span>.patient.getMedicalRecord());
        editedPatient.addNoteMedicalRecord(noteToSave);
        <span class="keyword">return</span> editedPatient;
    }

    <span class="comment">/**
     * Checks whether current is a specified patient.
     * @return true if queue contains patient.
     */</span>
    <span class="directive">public</span> <span class="type">boolean</span> isPatient(Patient patient) {
        <span class="keyword">return</span> (<span class="local-variable">this</span>.patient).isSamePerson(patient);
    }

    <span class="comment">/**
     * Update the patient if any information changes.
     */</span>
    <span class="directive">public</span> <span class="type">void</span> updatePatient(Patient patient) {
        <span class="local-variable">this</span>.patient = patient;
    }

    <span class="comment">/**
     * @return a console-friendly representation of the patient.
     */</span>
    <span class="directive">public</span> <span class="predefined-type">String</span> toNameAndIc() {
        <span class="keyword">return</span> patient.toNameAndIc();
    }

    <span class="directive">public</span> Patient getPatient() {
        <span class="keyword">return</span> <span class="local-variable">this</span>.patient;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">boolean</span> equals(<span class="predefined-type">Object</span> obj) {
        <span class="comment">// short circuit if same object</span>
        <span class="keyword">if</span> (obj == <span class="local-variable">this</span>) {
            <span class="keyword">return</span> <span class="predefined-constant">true</span>;
        }

        <span class="comment">// instanceof handles nulls</span>
        <span class="keyword">if</span> (!(obj <span class="keyword">instanceof</span> ServedPatient)) {
            <span class="keyword">return</span> <span class="predefined-constant">false</span>;
        }

        <span class="comment">// state check</span>
        ServedPatient other = (ServedPatient) obj;

        <span class="keyword">return</span> <span class="local-variable">this</span>.patient.equals(other.patient)
                &amp;&amp; <span class="local-variable">this</span>.mcContent.equals(other.mcContent)
                &amp;&amp; <span class="local-variable">this</span>.referralContent.equals(other.referralContent)
                &amp;&amp; <span class="local-variable">this</span>.noteContent.equals(other.noteContent)
                &amp;&amp; <span class="local-variable">this</span>.medicineAllocated.equals(other.medicineAllocated);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>register</code> command works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/RegisterSequenceDiagram.png" alt="RegisterSequenceDiagram" width="1000">
</div>
<div class="title">Figure 14. Register Sequence Diagram</div>
</div>
<div class="paragraph">
<p>The other commands roughly follow the same sequence as <code>Register</code> command but can interact with <code>CurrentPatient</code> or <code>ServedPatientList</code> instead of <code>PatientQueue</code>.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the PQMS is used in each step.</p>
</div>
<div class="paragraph">
<p>Step 1. Three patients visits the clinic, the user executes the <code>register</code> command for each patient.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/PQMSPatientQueue.png" alt="650" width="250">
</div>
<div class="title">Figure 15. Registering 3 patients</div>
</div>
<div class="paragraph">
<p>Step 2. It is a patient&#8217;s turn for consultation. The user executes the <code>serve</code> command to serve the first patient in the queue.
The patient is now the <code>CurrentPatient</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/PQMSCurrentPatient.png" alt="650" width="250">
</div>
<div class="title">Figure 16. Serve patient</div>
</div>
<div class="paragraph">
<p>Step 3. The user executes the <code>DocumentAdd</code> command to add information to the <code>CurrentPatient</code>. These information will be used for document
processing later on.</p>
</div>
<div class="paragraph">
<p>Step 4. The <code>CurrentPatient</code> is done with the consultation. The user executes the <code>finish</code> command to transfer this patient to
the <code>ServedPatientQueue</code>. Afterwards, the user executes <code>serve</code> to serve the next patient in <code>PatientQueue</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/PQMSServedPatientQueue.png" alt="650" width="250">
</div>
<div class="title">Figure 17. Finish serving patient</div>
</div>
<div class="paragraph">
<p>Step 5. The user executes various commands to generate necessary documents for the served patient.</p>
</div>
<div class="paragraph">
<p>Step 6. The user finally executes <code>payment</code> command to generate the receipt and ends the patient&#8217;s visit to the clinic, removing
him from the <code>ServedPatientQueue</code>.</p>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-proper-oop-practice"><a class="link" href="#aspect-proper-oop-practice">Aspect: Proper OOP practice</a></h5>
<div class="paragraph">
<p>Relationship between <code>CurrentPatient</code>, <code>ServedPatient</code> and <code>Patient</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Current Implementation:</strong> Composition</p>
<div class="ulist">
<ul>
<li>
<p><code>CurrentPatient</code> is composed of <code>ServedPatient</code>. <code>ServedPatient</code> is composed of <code>Patient</code>.</p>
</li>
<li>
<p>Pros: Easy manipulation of composed class.</p>
</li>
<li>
<p>Cons: Weird relationship between the three classes.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative:</strong> Inheritance</p>
</li>
<li>
<p><code>CurrentPatient</code> inherits from <code>ServedPatient</code>. <code>ServedPatient</code> inherits from <code>Patient</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Proper relationship between three classes.</p>
</li>
<li>
<p>Cons: Cannot cast <code>Patient</code> to <code>ServedPatient</code> or <code>CurrentPatient</code> for usage in PQMS.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2018-11-04 08:03:20 UTC</div></div></div></body></html>